(function($){$.fn.jOdometer=function(settings){if(this.length>1){this.each(function(){$(this).jOdometer(settings)});return this;}
settings=$.extend({},$.fn.jOdometer.defaults,settings);this.goToNumber=function(newCounter){advanceCounter(newCounter);};var scope=$(this);var $this=this;var zeroSet=-settings.heightNumber;var counter=parseFloat(settings.counterStart);var integersArray=[];var decimalsArray=[];var digits=String(settings.counterStart).split('.');var numberOfDecimals=0;var widthDot=0;if(digits[1]){var j=0;for(var i=digits[1].length-1;i>-1;i--){decimalsArray[i]=digits[1].charAt(i);$(this).append('<img style="position:absolute; right:'+(j*settings.widthNumber+settings.offsetRight+j*settings.spaceNumbers)+'px; top:'+((parseInt(decimalsArray[i])*settings.heightNumber*-1)+zeroSet)+'px;" class="jodometer_decimal_'+i+'" src="'+settings.numbersImage+'" alt="Decimal '+(i+1)+'" />');j++;}
$(this).append('<div style="position:absolute; width:'+settings.widthDot+'px; height:'+settings.heightNumber+'px; background:url('+settings.numbersImage+') no-repeat center '+((12*(settings.heightNumber)*-1)+zeroSet)+'px; right:'+(digits[1].length*settings.widthNumber+settings.offsetRight+digits[1].length*settings.spaceNumbers)+'px;" class="jodometer_dot"></div>');numberOfDecimals=digits[1].length;widthDot=settings.widthDot;}
var integers=digits[0];var j=integers.length-1;var commaExtraWidth=0;for(var i=0;i<integers.length;i++){integersArray[i]=integers.charAt(j);if(settings.formatNumber&&i>0&&i%3==0){$(this).append('<div style="position:absolute; width:'+settings.widthDot+'px; height:'+settings.heightNumber+'px; background:url('+settings.numbersImage+') no-repeat center bottom; right:'+(i*settings.widthNumber+numberOfDecimals*settings.widthNumber+widthDot+commaExtraWidth+settings.offsetRight+numberOfDecimals*settings.spaceNumbers+i*settings.spaceNumbers+settings.spaceNumbers)+'px;" class="jodometer_dot"></div>');commaExtraWidth+=settings.widthDot+settings.spaceNumbers;}
$(this).append('<img style="position:absolute; right:'+(i*settings.widthNumber+numberOfDecimals*settings.widthNumber+widthDot+commaExtraWidth+settings.offsetRight+numberOfDecimals*settings.spaceNumbers+i*settings.spaceNumbers+settings.spaceNumbers)+'px; top:'+((parseInt(integersArray[i])*settings.heightNumber*-1)+zeroSet)+'px;" class="jodometer_integer_'+i+'" src="'+settings.numbersImage+'" alt="Integer '+(i+1)+'" />');j--;}
if(parseFloat(settings.counterStart)!=settings.counterEnd||(settings.counterEnd.toString()=='false'&&parseFloat(settings.counterStart)==0)){var counterInterval=setInterval(function(){advanceCounter();},settings.delayTime);}
function advanceCounter(newCounter){if(newCounter!=undefined){clearInterval(counterInterval);counter=newCounter;setNumbers(counter);}else{setNumbers(counter);counter=counter+settings.increment;}
if(settings.counterEnd!=false&&counter>=settings.counterEnd){clearInterval(counterInterval);setNumbers(settings.counterEnd);}}
function setNumbers(counter){digits=String(counter).split('.');if(decimalsArray.length>0){for(i=0;i<decimalsArray.length;i++){oldDigit=decimalsArray[i];if(digits[1]){decimalsArray[i]=digits[1].charAt(i);}
if(decimalsArray[i]==''){decimalsArray[i]='0';}
updatePosition($('.jodometer_decimal_'+i,scope),parseInt(decimalsArray[i]),parseInt(oldDigit));}}
integers=digits[0];j=integers.length-1;for(i=0;i<integersArray.length;i++){oldDigit=integersArray[i];integersArray[i]=integers.charAt(j);if(integersArray[i]==''){integersArray[i]='0';}
updatePosition($('.jodometer_integer_'+i,scope),parseInt(integersArray[i]),parseInt(oldDigit));j--;}}
function updatePosition(col,newDigit,oldDigit){if(newDigit!=oldDigit){col.stop();if(newDigit==0){col.animate({top:(10*settings.heightNumber*-1)+zeroSet},settings.speed,settings.easing).animate({top:zeroSet},1,'linear');}else{if(newDigit<oldDigit){col.animate({top:(10*settings.heightNumber*-1)+zeroSet},settings.speed*((10-oldDigit)/10),'linear').animate({top:zeroSet},1,'linear').animate({top:(newDigit*settings.heightNumber*-1)+zeroSet},settings.speed*oldDigit/10,settings.easing);}else{col.animate({top:(newDigit*settings.heightNumber*-1)+zeroSet},settings.speed,settings.easing);}}}}
return this;};$.fn.jOdometer.defaults={counterStart:'0000.00',counterEnd:false,delayTime:1000,increment:0.01,speed:500,easing:'swing',numbersImage:'https://sc.wklcdn.com/images/jodometer-numbers.png',formatNumber:false,heightNumber:31,widthNumber:14,offsetRight:0,spaceNumbers:0,widthDot:10};})(jQuery);